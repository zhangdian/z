# 2012-12-11-js-code-conventions

下面从注释、变量声明等各个方面总结js中的代码约定。
<!-- more -->
####1. 长度
每行长度不能多于80个字符，如果超过了80个字符的话，就回车换行，新的一行缩进8个字符；

####2. 注释
注释要有意义，不要写一眼就可以看出来的注释，应该写那种不能马上明白过来的注释；

####3. 变量声明
所有变量使用之前应该声明，比较好的做法是一个变量一行，后面加上他们的注释，然后以字符顺序排序；

注意：js没有块作用域，只有函数作用域，在函数中任何地方定义的变量，在函数的任何位置都可以使用，所以应该将所有变量定义在函数开头处；

####4. 函数
* 所有函数使用前都应该声明，内部函数需要用var声明；
* 在函数名称和‘（’之间不能有空格，在‘）’和‘{’之间要有一个空格；
* ‘}’单独一行，和函数开头对齐；

```
function fun1() { 
    // 函数体
}
```

* 如果函数式匿名的，那么在‘function’和‘（’之间应该有一个空格，如果忽略了这个空格，那么有可能把这个函数的函数名误认为‘function’；

```
var fun1 = function () {
    return 1;
}
```

* 尽量不要使用全局函数；
* 如果函数定义的时候立即被调用，那么整个表达式需要被包裹在‘（）’中间，来表明结果是函数的返回值而不是函数本身；

```
var fun1 = (function () {
    return 1;
});
```

####5. 变量名称
* 使用A-Z，a-z，是个数字以及下划线做成名字；
* 不要使用”_“作为名字的第一个字符，因为这一般表示private变量，但是js实际上没有提供private；
* 使new实例化的对象必须使用一个大写字符作为开头；
* 全局变量应该全部是大写的；

####6. 语句
#####6.1 单行语句
* 每一行末尾都应该有一个‘；’；

#####6.2 符合语句
复合语句是包含在{}之间的语句列表。

* 被包含在内部的语句需要缩进四个空格；
* ‘{’应该出现在开始这个compound statement的末尾；
* ‘}’应该单独一行，和这个compound statement开始处对齐；
* 即使只有一行语句，也应该包含在‘{}’里面；

####7. 返回值
返回值不应该被‘（）’包括起来；

####8. switch
* 每一个case都应该和switch对齐；
* 每一个case，都应该以break、return或者throw结束，不能落空；

####9. 哪里使用空格
* 一个关键字后面紧跟一个‘（’；
* 每一个‘，’后面都应该跟一个空格；
* for循环条件语句中的每一个‘；’后面都应该跟一个空格；
* 对于一元运算符，在运算符和他的操作数之间不应该添加空格，除了typeof；
* 所有二元运算符，除了'.' , '(' , '[' 应该使用一个空格来和他的操作数隔开；

####10. 额外建议
* 用{}代替new Object();
* 用[]代替 new Array();
* 当数组成员序号是连续的时候，使用数组new Array();
* 当对象名称是任意的时候，使用object；
* 尽量使用===和!==，==和!=执行类型检查；